<script>
  int failCount = 0;
  var intervalId;

  const fetchNotifications = () => {
    var notificationsEndpoint = '/api/notifications'
    fetch(notificationsEndpoint)
      .then(res => {
        if (res.status != 200) {
          if (failCount > 3)
            clearInterval(intervalId)
          console.log('error occured while fetching notifications')
        } else {
          return res.json()
        }
      })
      .then(data => {
        console.log(data)
        // change the number on the notifications
        // make the number pop up(a notification popup alongise the bell)
        // make the number pulse on changing
      })

  }
  window.onload = () => {
    intervalId = setInterval(fetchNotifications, 10000);
  }
</script>
